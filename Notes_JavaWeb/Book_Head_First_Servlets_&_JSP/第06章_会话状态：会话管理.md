### # 会话管理要点

+ 在写至响应的HTML中，URL重写会把会话ID增加到其中所有URL的最后
+ 会话ID作为请求URL最后的“额外”信息再通过请求返回。
+ 如果客户不接受cookie，URL重写会自动发生，但是必须显示地对所有URL编码。
+ 要对一个URL编码，需要调用response.encodeURL(aUrlString)。
+ 没有办法对静态页面完成自动的URL重写，所以，如果你依赖于会话，就必须使用动态生成的页面。

### # 关键的HttpSession方法

|                          | 它做什么                                                     | 你用它做什么                                                 |
| ------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| getCreationTime()        | 返回第一次创建会话的时间                                     | 得出这个会话有多“老”。                                       |
| getLastAccessedTime()    | 返回容器最后一次得到这个会话ID的请求后过去了多长时间（毫秒） | 得出客户最后一次访问这个会话是什么时候。可以用这个方法来确定客户是否已经离开很长时间。 |
| setMaxInactiveInterval() | 指定对于这个会话客户请求的最大间隔时间（秒数）               | 如果已经过过去了指定的时间，而客户未对这个会话做任何请求，就会导致会话被撤销。可以用和这个方法减少服务器中农无用的会话。 |
| getMaxInactiveInterval() | 返回对于这个会话客户请求的最大间隔时间（秒数）               | 得出这个会话可以保持多长时间不活动但仍“存活”。可以使用这个方法来判断一下一个不活动的客户在会话撤销之前还有多长时间的“寿命”。 |
| invalidate()             | 结束会话。当前存储在这个会话中的所有会话属性也会接触绑定     | 如果当前客户已经不活动。或者你知道会话已经结束，可以用这个方法杀死（撤销）会话。会话ID不在存在，属性也会从会话对象中删除。 |

