### 3.4 浏览文件系统

#### 3.4.1 Linux文件系统

Linux将文件存储在单个目录结构中，这个目录被称为虚拟目录 （virtual directory）。虚拟目录将安装在PC上的所有存储设备的文件路径纳入单个目录结构中。

Linux虚拟目录结构只包含一个称为根 （root）目录的基础目录。根目录下的目录和文件会按照访问它们的目录路径一一列出，这点跟Windows类似。

Linux虚拟目录中比较复杂的部分是它如何协调管理各个存储设备。在Linux PC上安装的第一块硬盘称为根驱动器 。根驱动器包含了虚拟目录的核心，其他目录都是从那里开始构建的。

Linux会在根驱动器上创建一些特别的目录，我们称之为挂载点 （mount point）。挂载点是虚拟目录中用于分配额外存储设备的目录。虚拟目录会让文件和目录出现在这些挂载点目录中，然而实际上它们却存储在另外一个驱动器中。

常见Linux目录名称：

| 目录   | 用途                                                      |
| ------ | --------------------------------------------------------- |
| /      | 虚拟目录的根目录。通常不会在这里存储文件                  |
| /bin   | 二进制目录，存放许多用户级的GNU工具                       |
| /boot  | 启动目录，存放启动文件                                    |
| /dev   | 设备目录，Linux在这里创建设备节点                         |
| /etc   | 系统配置文件目录                                          |
| /home  | 主目录，Linux在这里创建用户目录                           |
| /lib   | 库目录，存放系统和应用程序的库文件                        |
| /media | 媒体目录，可移动媒体设备的常用挂载点                      |
| /mnt   | 挂载目录，另一个可移动媒体设备的常用挂载点                |
| /opt   | 可选目录，常用于存放第三方软件包和数据文件                |
| /proc  | 进程目录，存放现有硬件及当前进程的相关信息                |
| /root  | root用户的主目录                                          |
| /sbin  | 系统二进制目录，存放许多GNU管理员级工具                   |
| /run   | 运行目录，存放系统运作时的运行时数据                      |
| /srv   | 服务目录，存放本地服务的相关文件                          |
| /sys   | 系统目录，存放系统硬件信息的相关文件                      |
| /tmp   | 临时目录，可以在该目录中创建和删除临时工作文件            |
| /usr   | 用户二进制目录，大量用户级的GNU工具和数据文件都存储在这里 |
| /var   | 可变目录，用以存放经常变化的文件，比如日志文件            |

 ### 3.6 处理文件

#### 3.6.4 链接文件

链接文件是Linux文件系统的一个优势。如需要在系统上维护同一文件的两份或多份副本，除了保存多份单独的物理文件副本之外，还可以采用保存一份物理文件副本和多个虚拟副本的方法。这种虚拟的副本就称为链接 。链接是目录中指向文件真实位置的占位符。在Linux中有两种不同类型的文件链接：

+ 符号链接
+ 硬链接

**符号链接** 就是一个实实在在的文件，它指向存放在虚拟目录结构中某个地方的另一个文件。这两个通过符号链接在一起的文件，彼此的内容并不相同。

要为一个文件创建符号链接，原始文件必须事先存在。然后可以使用ln 命令以及-s 选项来创建符号链接。

```bash
$ ls -l data_file
-rw-rw-r-- 1 christine christine 1092 May 21 17:27 data_file
$
$ ln -s data_file  sl_data_file
$
$ ls -l *data_file
-rw-rw-r-- 1 christine christine 1092 May 21 17:27 data_file
lrwxrwxrwx 1 christine christine    9 May 21 17:29 sl_data_file -> data_file
$
```

**硬链接** 会创建独立的虚拟文件，其中包含了原始文件的信息及位置。但是它们从根本上而言是同一个文件。引用硬链接文件等同于引用了源文件。要创建硬链接，原始文件也必须事先存在，只不过这次使用ln 命令时不再需要加入额外的参数了。

```bash
$ ls -l code_file
-rw-rw-r-- 1 christine christine 189 May 21 17:56 code_file
$
$ ln code_file  hl_code_file
$
$ ls -li *code_file
296892 -rw-rw-r-- 2 christine christine 189 May 21 17:56 code_file
296892 -rw-rw-r-- 2 christine christine 189 May 21 17:56 hl_code_file
$
```

